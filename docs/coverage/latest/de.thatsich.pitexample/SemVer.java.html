<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SemVer.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PITExample</a> &gt; <a href="index.source.html" class="el_package">de.thatsich.pitexample</a> &gt; <span class="el_source">SemVer.java</span></div><h1>SemVer.java</h1><pre class="source lang-java linenums">package de.thatsich.pitexample;


import java.util.Optional;


public final class SemVer
{
	private final int major;
	private final int minor;
	private final int patch;
	private final Optional&lt;Label&gt; maybeLabel;
	private final Optional&lt;BuildMeta&gt; maybeMeta;

	private SemVer( int major, int minor, int patch, Optional&lt;Label&gt; maybeLabel, Optional&lt;BuildMeta&gt; maybeMeta )
<span class="fc" id="L16">	{</span>
<span class="fc" id="L17">		this.major = major;</span>
<span class="fc" id="L18">		this.minor = minor;</span>
<span class="fc" id="L19">		this.patch = patch;</span>
<span class="fc" id="L20">		this.maybeLabel = maybeLabel;</span>
<span class="fc" id="L21">		this.maybeMeta = maybeMeta;</span>
<span class="fc" id="L22">	}</span>

	public static SemVerBuilder builder()
	{
<span class="fc" id="L26">		return new SemVerBuilder();</span>
	}

	public int major()
	{
<span class="fc" id="L31">		return major;</span>
	}

	public int minor()
	{
<span class="fc" id="L36">		return minor;</span>
	}

	public int patch()
	{
<span class="fc" id="L41">		return patch;</span>
	}

	public Optional&lt;Label&gt; maybeLabel()
	{
<span class="fc" id="L46">		return maybeLabel;</span>
	}

	public Optional&lt;BuildMeta&gt; maybeMeta()
	{
<span class="fc" id="L51">		return maybeMeta;</span>
	}

	@Override
	public int hashCode()
	{
<span class="fc" id="L57">		int result = major;</span>
<span class="fc" id="L58">		result = 31 * result + minor;</span>
<span class="fc" id="L59">		result = 31 * result + patch;</span>
<span class="fc" id="L60">		result = 31 * result + maybeLabel.hashCode();</span>
<span class="fc" id="L61">		result = 31 * result + maybeMeta.hashCode();</span>
<span class="fc" id="L62">		return result;</span>
	}

	@Override
	public boolean equals( Object o )
	{
<span class="fc bfc" id="L68" title="All 2 branches covered.">		if( this == o )</span>
		{
<span class="fc" id="L70">			return true;</span>
		}
<span class="fc bfc" id="L72" title="All 4 branches covered.">		if( o == null || getClass() != o.getClass() )</span>
		{
<span class="fc" id="L74">			return false;</span>
		}

<span class="fc" id="L77">		final SemVer semVer = (SemVer) o;</span>

<span class="fc bfc" id="L79" title="All 2 branches covered.">		if( major != semVer.major )</span>
		{
<span class="fc" id="L81">			return false;</span>
		}
<span class="fc bfc" id="L83" title="All 2 branches covered.">		if( minor != semVer.minor )</span>
		{
<span class="fc" id="L85">			return false;</span>
		}
<span class="fc bfc" id="L87" title="All 2 branches covered.">		if( patch != semVer.patch )</span>
		{
<span class="fc" id="L89">			return false;</span>
		}
<span class="fc bfc" id="L91" title="All 2 branches covered.">		if( !maybeLabel.equals( semVer.maybeLabel ) )</span>
		{
<span class="fc" id="L93">			return false;</span>
		}
<span class="fc" id="L95">		return maybeMeta.equals( semVer.maybeMeta );</span>
	}

	@Override
	public String toString()
	{
<span class="fc" id="L101">		final String main = this.major + &quot;.&quot; + this.minor + &quot;.&quot; + this.patch;</span>
<span class="fc bfc" id="L102" title="All 2 branches covered.">		final String withLabel = main + ( this.maybeLabel.isPresent() ? &quot;-&quot; + this.maybeLabel.get() : &quot;&quot; );</span>
<span class="fc bfc" id="L103" title="All 2 branches covered.">		final String withMeta = withLabel + ( this.maybeMeta.isPresent() ? &quot;+&quot; + this.maybeMeta.get() : &quot;&quot; );</span>

<span class="fc" id="L105">		return withMeta;</span>
	}


	public static final class SemVerBuilder
	{
<span class="fc" id="L111">		private static final Preconditions PRECONDITIONS = new Preconditions();</span>

		private int major;
		private int minor;
		private int patch;
		private Label label;
		private BuildMeta meta;

		private SemVerBuilder()
<span class="fc" id="L120">		{</span>

<span class="fc" id="L122">		}</span>

		public SemVerBuilder major( final int major )
		{
<span class="fc" id="L126">			this.major = major;</span>
<span class="fc bfc" id="L127" title="All 2 branches covered.">			PRECONDITIONS.requireCondition( major &gt;= 0 );</span>

<span class="fc" id="L129">			return this;</span>
		}

		public SemVerBuilder minor( final int minor )
		{
<span class="fc" id="L134">			this.minor = minor;</span>
<span class="fc bfc" id="L135" title="All 2 branches covered.">			PRECONDITIONS.requireCondition( minor &gt;= 0 );</span>

<span class="fc" id="L137">			return this;</span>
		}

		public SemVerBuilder patch( final int patch )
		{
<span class="fc" id="L142">			this.patch = patch;</span>
<span class="fc bfc" id="L143" title="All 2 branches covered.">			PRECONDITIONS.requireCondition( patch &gt;= 0 );</span>

<span class="fc" id="L145">			return this;</span>
		}

		public SemVerBuilder label( final Label label )
		{
<span class="fc" id="L150">			this.label = PRECONDITIONS.requireNotNull( label );</span>

<span class="fc" id="L152">			return this;</span>
		}

		public SemVerBuilder meta( final BuildMeta meta )
		{
<span class="fc" id="L157">			this.meta = PRECONDITIONS.requireNotNull( meta );</span>

<span class="fc" id="L159">			return this;</span>
		}

		public SemVer build()
		{
<span class="fc" id="L164">			final Optional&lt;Label&gt; label = Optional.ofNullable( this.label );</span>
<span class="fc" id="L165">			final Optional&lt;BuildMeta&gt; meta = Optional.ofNullable( this.meta );</span>

<span class="fc" id="L167">			return new SemVer( this.major, this.minor, this.patch, label, meta );</span>
		}
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.1.201405082137</span></div></body></html>